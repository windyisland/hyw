
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>现代地图学作业</title>
<script type="text/javascript" src="https://raw.githack.com/windyisland/hyw/master/iscroll.js"></script>
<script type="text/javascript" src="https://raw.githack.com/windyisland/hyw/master/utils.js"></script>
<link rel="stylesheet" href="https://raw.githack.com/windyisland/hyw/master/css/xddtx_homework_ui.css"/>
<script type="text/javascript">
var myScroll;
var sdpm="https://raw.githack.com/windyisland/hyw/master/sdpm.html";
var sdprec="https://raw.githack.com/windyisland/hyw/master/sdprec.html";
var sdgdp="https://raw.githack.com/windyisland/hyw/master/sdgdp.html"
var sdws="https://raw.githack.com/windyisland/hyw/master/sdws.html"
//初始加载项
function loaded () {
	//启用iscroll
	myScroll = new IScroll('#wrapper', { scrollX: true, scrollY: false, mouseWheel: false });
	//设置移动加载项
	var myul = document.getElementById("scroller_ul");
	var myli = myul.getElementsByTagName("li");
	for (var j = 0; j < myli.length; j++) {
		myli[j].onmouseover=function(){
			this.style.background = '#87CEFF';
		}
		myli[j].onmouseout = function () {
			this.style.background = '#fafafa';
		}
	}
}


document.addEventListener('touchmove', function (e) { e.preventDefault(); }, isPassive() ? {
	capture: false,
	passive: false
} : false);

//
function g(x)
{
	//点击换颜色
	d=document.getElementsByTagName('li')
	for(p=d.length;p--;){
		if(d[p].id!=x){
			d[p].style.backgroundColor='#fafafa'/*其他*/
			}
		else{
			d[p].style.backgroundColor='#3A5FCD'/*点击的*/
			}
	}
	
	//第二次移动时可以移动换色
	pd_click=true;
	var myul = document.getElementById("scroller_ul");
	var myli = myul.getElementsByTagName("li");
	for (var j = 0; j < myli.length; j++) {
		myli[j].onmouseover=function(){
			this.style.background = '#87CEFF';
			pd_click=false;
		}
		myli[j].onmouseout = function () {
		if (pd_click==false) {
			this.style.background = '#fafafa';
			}
		}
	}
	
	//点击转换iframe地图源
	var element = document.getElementById('show_ditu');
	switch (x) {
	case "gdp":
		element.src =sdgdp;
		break;
	case "prec":
		element.src =sdprec;
		break;
	case "pm":
		element.src =sdpm;
		break;
	case "wind":
		element.src=sdws;
	}
}

</script>
</head>
<body onload="loaded()">

<h1>现代地图学作业</h1>>
<h3>小组成员：黄焱威、索南东主、谢云鹏、李春林</h3>
<h2>作业说明:</h2>
<br>
<p>&nbsp&nbsp本次作业采用了mapbox和leaflet+R两种方式制图，其中用mapbox进行山东省GDP分布图、降雨分布图、风向分布图、温度分布图、pm2.5分布图的制作，用R-leaflet进行京津冀植被分类图和北京市房价图的制作。另外，制作网页时用到了iscroll.js(作用：使标签滑动更加流畅。方法：摁住标签页左右滑动)
</p>
<p>注：<br>
	&nbsp&nbsp&nbsp(1)网页界面设计的css为当前库中的/css/xddtx_homework_ui.css<br>
	&nbsp&nbsp&nbsp(2)mapbox中图例以及显示属性的交互采用Mapbox Studio和Mapbox GLJS 完成。<br>
	&nbsp&nbsp&nbsp(3)采用R-leaflet时所用数据量较大导致初始加载网页较慢，请耐心等候。<br>
	&nbsp&nbsp&nbsp(4)开发用到的文件及代码（除shp以外）均以上传到github。 <a href="https://github.com/windyisland/hyw">点我跳向github</a>
</p>
<br>
<br>
<br>
<br>

<h2>mapbox制图展示</h2>
<br>
<br>
<br>
<div id="wrapper">
	<div id="scroller">
		<ul id="scroller_ul">
			<li id="gdp" onclick="g(this.id)">山东省某年GDP分布图</li>
			<li id="prec" onclick="g(this.id)">山东省某月降雨分布图</li>
			<li id="wind" onclick="g(this.id)">山东省某月风速分布图</li>
			<li id="temp" onclick="g(this.id)">山东省某月温度分布图</li>
			<li id="pm" onclick="g(this.id)">山东省某月pm2.5分布图</li>
		</ul>
	</div>
</div>
<br>

<iframe id="show_ditu" src="https://raw.githack.com/windyisland/hyw/master/sdgdp.html"> </iframe><br>
<br>
<br>
<h2>R+leaflet制图部分(第一幅图为北京房价图，第二幅图为京津冀植被分类图)</h2>
<br>
<iframe id="show_R" src="https://raw.githack.com/windyisland/hyw/master/R+leaflet.html"> </iframe><br>
<p style="color: red">网页仅供作业学习所用。如若数据有侵权请联系作者删除</p>
</body>

</html>
